package admin

import (
	"github.com/labstack/echo/v4"
	"github.com/loganlanou/logans3d-v4/internal/types"
	"github.com/loganlanou/logans3d-v4/views/layout"
)

templ DevSystem(c echo.Context, sysInfo types.SystemInfo) {
	@layout.AdminBase(c, "System Information") {
		<!-- Header -->
		<div class="flex justify-between items-center mb-8">
			<h1 class="admin-text-primary admin-text-2xl admin-font-bold">System Information</h1>
		</div>

		<!-- Runtime Information Card -->
		<div class="admin-card">
			<div class="admin-card-header">
				<h2 class="admin-card-title flex items-center">
					<span class="text-2xl mr-3">⚙️</span>
					Runtime Information
				</h2>
			</div>
			<div class="overflow-x-auto">
				<table class="admin-table">
					<tbody>
						<tr>
							<td class="admin-font-semibold">Application Name</td>
							<td>{ sysInfo.AppName }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Version</td>
							<td>{ sysInfo.Version }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Environment</td>
							<td>
								if sysInfo.Environment != "" {
									<span class="admin-status admin-status-active">{ sysInfo.Environment }</span>
								} else {
									<span class="admin-status admin-status-pending">Not Set</span>
								}
							</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Go Version</td>
							<td>{ sysInfo.GoVersion }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Operating System</td>
							<td>{ sysInfo.OS }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Architecture</td>
							<td>{ sysInfo.Architecture }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">CPU Count</td>
							<td>{ sysInfo.CPUCount }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Start Time</td>
							<td>{ sysInfo.StartTime.Format("2006-01-02 15:04:05 MST") }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Uptime</td>
							<td>{ sysInfo.Uptime }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Process ID</td>
							<td>{ sysInfo.PID }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Port</td>
							<td>{ sysInfo.Port }</td>
						</tr>
						<tr>
							<td class="admin-font-semibold">Database Path</td>
							<td><code class="px-2 py-1 bg-slate-900 rounded text-sm">{ sysInfo.DBPath }</code></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	}
}
